<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—Ö–æ–¥ –∏ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f4f8;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            height: 100vh;
        }

        h1 {
            width: 100%;
            background-color: #333;
            color: white;
            text-align: center;
            line-height: 2cm;
            margin: 0;
            font-size: 1.8rem;
        }

        .top-right {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 20px;
            width: 100%;
            padding-right: 20px;
        }

        .top-left {
            display: flex;
            gap: 15px;
            justify-content: flex-start;
            margin-top: 20px;
            width: 100%;
            padding-left: 20px;
            flex-direction: column;
            align-items: flex-start;
        }

        .top-left button,
        .top-right button {
            padding: 12px 24px;
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .top-left button:hover,
        .top-right button:hover {
            background-color: #004494;
        }

        .top-right button {
            width: 5cm;
        }

        .menu-container {
            margin-top: 20px;
            width: 100%;
        }

        .dropdown {
            position: relative;
            display: inline-block;
        }

        .dropbtn {
            padding: 12px 24px;
            background-color: #009688;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #ffffff;
            min-width: 200px;
            box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .dropdown:hover .dropdown-content {
            display: block;
        }

        .dropdown-content a {
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            color: #333;
            font-size: 1rem;
        }

        .dropdown-content a:hover {
            background-color: #ddd;
        }

        .container {
            width: 100%;
            max-width: 450px;
            margin: 30px auto;
            padding: 25px;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
            z-index: 2;
        }

        input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 1rem;
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #45a049;
        }

        .hidden {
            display: none;
        }

        #file-input {
            width: 4cm;
            margin-bottom: 10px;
        }

        .password-manager {
            margin-top: 20px;
        }

        .password-entry {
            margin: 10px 0;
        }

        .content-section {
            display: none;
            padding: 20px;
            background-color: #ffffff;
            margin-top: 20px;
            border-radius: 8px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            width: 80%;
            max-width: 600px;
            margin-top: 40px;
        }

        .alert {
            color: red;
            font-weight: bold;
        }

        .auth-code-container {
            width: 100%;
            background-color: #ffffff;
            color: black;
            padding: 10px;
            text-align: center;
            font-size: 1.1rem;
            margin-top: 20px;
            display: none;
        }

        .auth-code-input {
            background-color: #ffffff;
        }

        /* –ü–∞–¥–∞—â–æ –º–µ–Ω—é –∑–∞ –ø—Ä–æ—Ñ–∏–ª–∞ */
        .profile-dropdown {
            position: relative;
            display: inline-block;
        }

        .profile-btn {
            padding: 12px 24px;
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }

        .profile-dropdown-content {
            display: none;
            position: absolute;
            background-color: #ffffff;
            min-width: 200px;
            box-shadow: 0px 8px 16px rgba(0, 0, 0, 0.2);
            z-index: 1;
            right: 0;
        }

        .profile-dropdown:hover .profile-dropdown-content {
            display: block;
        }

        .profile-dropdown-content a {
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            color: #333;
            font-size: 1rem;
        }

        .profile-dropdown-content a:hover {
            background-color: #ddd;
        }
    </style>
</head>
<body>

    <h1>Password Management Systems</h1>

    <div class="top-right">
        <button id="login-btn" onclick="showLogin()">–í—Ö–æ–¥</button>
        <button id="register-btn" onclick="showRegistration()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        
        <!-- –ü–∞–¥–∞—â–æ –º–µ–Ω—é –∑–∞ –ø—Ä–æ—Ñ–∏–ª–∞ -->
        <div id="profile-menu" class="profile-dropdown hidden">
            <button class="profile-btn" id="profile-btn"></button>
            <div class="profile-dropdown-content">
                <a href="#" onclick="logout()">–ò–∑—Ö–æ–¥</a>
            </div>
        </div>
    </div>

    <div class="top-left">
        <div class="dropdown">
            <button class="dropbtn">–ú–µ–Ω—é</button>
            <div class="dropdown-content">
                <a href="#" onclick="showPasswordManager()">–ú–µ–Ω–∏–¥–∂—ä—Ä –Ω–∞ –ø–∞—Ä–æ–ª–∏</a>
                <a href="#" onclick="showFileSelection()">–ò–∑—Ç–µ–≥–ª–∏</a>
            </div>
        </div>
    </div>

    <div id="password-manager" class="content-section">
        <h2>–ú–µ–Ω–∏–¥–∂—ä—Ä –Ω–∞ –ø–∞—Ä–æ–ª–∏</h2>
        <input type="email" id="password-manager-email" placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –∏–º–µ–π–ª" required><br>
        <input type="text" id="password-manager-link" placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –ª–∏–Ω–∫" required><br>
        <button onclick="checkEmailAndLink()">–ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–º–µ–π–ª–∞ –∏ –ª–∏–Ω–∫–∞</button><br>
        <div id="password-manager-results" class="hidden">
            <p>–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∏–º–µ: <span id="username"></span></p>
            <p>–ò–º–µ–π–ª: <span id="email"></span></p>
            <p>–ü–∞—Ä–æ–ª–∞: <span id="password"></span></p>
            <input type="text" id="new-password" placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –Ω–æ–≤–∞ –ø–∞—Ä–æ–ª–∞" required><br>
            <button onclick="savePassword()">–ó–∞–ø–∞–∑–∏ –Ω–æ–≤–∞—Ç–∞ –ø–∞—Ä–æ–ª–∞</button>
        </div>
        <div id="not-found" class="alert hidden">–ù–µ –µ –æ—Ç–∫—Ä–∏—Ç –ª–∏–Ω–∫ –∏–ª–∏ –∏–º–µ–π–ª! –ú–æ–ª—è, –≤—ä–≤–µ–¥–µ—Ç–µ –Ω–æ–≤–∏ –¥–∞–Ω–Ω–∏.</div>
        <button onclick="goBack()">–ù–∞–∑–∞–¥</button>
    </div>

    <div class="container">
        <div id="login-form" class="hidden">
            <h2>–í—Ö–æ–¥</h2>
            <input type="email" id="login-email" placeholder="–ò–º–µ–π–ª"><br>
            <input type="password" id="login-pass" placeholder="–ü–∞—Ä–æ–ª–∞" minlength="10" pattern="[A-Za-z0-9]{10,}" required>
            <button type="button" onclick="togglePassword('login-pass')">üëÅ</button><br>
            <button onclick="login()">–í–ª–µ–∑—Ç–µ</button><br>
            <button onclick="closeLogin()">–ó–∞—Ç–≤–æ—Ä–∏</button>
        </div>

        <div id="register-form" class="hidden">
            <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
            <input type="text" id="register-username" placeholder="–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ –∏–º–µ" required><br>
            <input type="email" id="register-email" placeholder="–ò–º–µ–π–ª" required><br>
            <input type="password" id="register-pass" placeholder="–ü–∞—Ä–æ–ª–∞" minlength="10" pattern="[A-Za-z0-9]{10,}" required>
            <button type="button" onclick="togglePassword('register-pass')">üëÅ</button><br>
            <button onclick="register()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button><br>
            <button onclick="closeRegister()">–ó–∞—Ç–≤–æ—Ä–∏</button>
        </div>

        <div id="twofa-form" class="hidden">
            <h2>–î–≤—É—Å—Ç–µ–ø–µ–Ω–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏–∫–∞—Ü–∏—è</h2>
            <p id="twofa-code-display">123456</p>
            <input type="text" id="twofa-code" placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –∫–æ–¥–∞"><br>
            <button onclick="verify2FA()">–ü–æ—Ç–≤—ä—Ä–¥–∏</button>
        </div>

        <div id="dashboard" class="hidden">
            <h2>–î–æ–±—Ä–µ –¥–æ—à–ª–∏, <span id="username-display"></span></h2>
        </div>
    </div>

    <script>
        let userData = {};
        let isAuthenticated = false;

        function togglePassword(id) {
            const passwordField = document.getElementById(id);
            const type = passwordField.type === "password" ? "text" : "password";
            passwordField.type = type;
        }

        function showLogin() {
            document.getElementById("login-form").classList.remove("hidden");
        }

        function closeLogin() {
            document.getElementById("login-form").classList.add("hidden");
        }

        function showRegistration() {
            document.getElementById("register-form").classList.remove("hidden");
        }

        function closeRegister() {
            document.getElementById("register-form").classList.add("hidden");
        }

        function login() {
            const email = document.getElementById("login-email").value;
            const password = document.getElementById("login-pass").value;

            if (email === userData.email && password === userData.password) {
                alert("–£—Å–ø–µ—à–Ω–æ –≤–ª–∏–∑–∞–Ω–µ!");
                document.getElementById("login-form").classList.add("hidden");
                document.getElementById("dashboard").classList.remove("hidden");
                isAuthenticated = true;
                document.getElementById("login-btn").classList.add("hidden");
                document.getElementById("register-btn").classList.add("hidden");

                // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –º–µ–Ω—é—Ç–æ —Å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ—Ç–æ –∏–º–µ
                document.getElementById("profile-menu").classList.remove("hidden");
                document.getElementById("profile-btn").innerText = userData.username;
                document.getElementById("username-display").innerText = userData.username;

                // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –º–µ–Ω–∏–¥–∂—ä—Ä–∞ –Ω–∞ –ø–∞—Ä–æ–ª–∏
                document.getElementById("password-manager").classList.remove("hidden");
            } else {
                alert("–ù–µ–≤–∞–ª–∏–¥–Ω–∏ –¥–∞–Ω–Ω–∏!");
            }
        }

        function register() {
            const username = document.getElementById("register-username").value;
            const email = document.getElementById("register-email").value;
            const password = document.getElementById("register-pass").value;

            userData = { username, email, password };
            const twofaCode = generate2FACode();
            document.getElementById("twofa-code-display").innerText = twofaCode;

            alert("–£—Å–ø–µ—à–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è! –í–ª–µ–∑—Ç–µ —Å–µ–≥–∞.");
            document.getElementById("register-form").classList.add("hidden");
            document.getElementById("twofa-form").classList.remove("hidden");
        }

        function generate2FACode() {
            return Math.floor(100000 + Math.random() * 900000);
        }

        function verify2FA() {
            const inputCode = document.getElementById("twofa-code").value;
            const expectedCode = document.getElementById("twofa-code-display").innerText;

            if (inputCode === expectedCode) {
                alert("–£—Å–ø–µ—à–Ω–æ –≤–ª–∏–∑–∞–Ω–µ!");
                document.getElementById("twofa-form").classList.add("hidden");
                document.getElementById("dashboard").classList.remove("hidden");
                isAuthenticated = true;
                document.getElementById("login-btn").classList.add("hidden");
                document.getElementById("register-btn").classList.add("hidden");

                // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –º–µ–Ω—é—Ç–æ —Å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–æ—Ç–æ –∏–º–µ
                document.getElementById("profile-menu").classList.remove("hidden");
                document.getElementById("profile-btn").innerText = userData.username;
                document.getElementById("username-display").innerText = userData.username;

                // –ü–æ–∫–∞–∑–≤–∞–Ω–µ –Ω–∞ –º–µ–Ω–∏–¥–∂—ä—Ä–∞ –Ω–∞ –ø–∞—Ä–æ–ª–∏
                document.getElementById("password-manager").classList.remove("hidden");
            } else {
                alert("–ù–µ–≤–∞–ª–∏–¥–µ–Ω –∫–æ–¥!");
            }
        }

        function logout() {
            isAuthenticated = false;
            document.getElementById("login-btn").classList.remove("hidden");
            document.getElementById("register-btn").classList.remove("hidden");
            document.getElementById("profile-menu").classList.add("hidden");
            document.getElementById("twofa-form").classList.add("hidden");
            document.getElementById("dashboard").classList.add("hidden");
            document.getElementById("password-manager").classList.add("hidden");
        }

        function showPasswordManager() {
            document.getElementById("password-manager").classList.remove("hidden");
        }

        function goBack() {
            document.getElementById("password-manager").classList.add("hidden");
        }

        function checkEmailAndLink() {
            const email = document.getElementById("password-manager-email").value;
            const link = document.getElementById("password-manager-link").value;

            if (email === userData.email && link === userData.link) {
                document.getElementById("password-manager-results").classList.remove("hidden");
                document.getElementById("username").innerText = userData.username;
                document.getElementById("email").innerText = userData.email;
                document.getElementById("password").innerText = userData.password;
            } else {
                document.getElementById("not-found").classList.remove("hidden");
            }
        }

        function savePassword() {
            const newPassword = document.getElementById("new-password").value;
            userData.password = newPassword;
            alert("–ü–∞—Ä–æ–ª–∞—Ç–∞ –µ –æ–±–Ω–æ–≤–µ–Ω–∞.");
        }

        function showFileSelection() {
            alert("–§—É–Ω–∫—Ü–∏—è –∑–∞ –∏–∑–±–æ—Ä –Ω–∞ —Ñ–∞–π–ª.");
        }
    </script>

</body>
</html>
